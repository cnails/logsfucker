# ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Frontend –Ω–∞ Cloudflare Pages

## üéØ –¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è

- **Backend (production):** https://logsfucker.pages.dev/
- **Frontend (preview):** https://main.logsfucker.pages.dev/

Frontend —Å–µ–π—á–∞—Å –¥–µ–ø–ª–æ–∏—Ç—Å—è –∫–∞–∫ preview (–∏–∑ –≤–µ—Ç–∫–∏ main), –∞ –Ω—É–∂–Ω–æ —á—Ç–æ–±—ã –æ–Ω –±—ã–ª –Ω–∞ production.

## ‚úÖ –†–µ—à–µ–Ω–∏–µ 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Environment Variables (–±—ã—Å—Ç—Ä–æ–µ)

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –æ—Å—Ç–∞–≤–∏—Ç—å —Ç–µ–∫—É—â—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–µ–ø–ª–æ—è, –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ Environment Variables:

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ [Cloudflare Dashboard](https://dash.cloudflare.com/)
2. Pages ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç —Å frontend
3. Settings ‚Üí Environment variables

### –®–∞–≥ 2: –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é

–î–ª—è **Production** –∏ **Preview**:

| Variable name | Value |
|--------------|-------|
| `VITE_API_URL` | `https://logsfucker.pages.dev` |

–ù–∞–∂–º–∏—Ç–µ **Save**.

### –®–∞–≥ 3: Redeploy

1. Deployments ‚Üí –ø–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–ø–ª–æ–π
2. Retry deployment

–¢–µ–ø–µ—Ä—å frontend –±—É–¥–µ—Ç –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É backend! ‚úÖ

---

## üöÄ –†–µ—à–µ–Ω–∏–µ 2: –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–µ–ø–ª–æ—è (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–õ—É—á—à–∏–π –≤–∞—Ä–∏–∞–Ω—Ç - —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –æ–±–∞ (backend + frontend) –≤ –æ–¥–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ.

### –¢–µ–∫—É—â–∞—è –ø—Ä–æ–±–ª–µ–º–∞

–°–µ–π—á–∞—Å —É –≤–∞—Å **–¥–≤–∞ –ø—Ä–æ–µ–∫—Ç–∞** –Ω–∞ Cloudflare Pages:
1. `logsfucker` - backend (production –Ω–∞ logsfucker.pages.dev)
2. –ö–∞–∫–æ–π-—Ç–æ –≤—Ç–æ—Ä–æ–π –ø—Ä–æ–µ–∫—Ç - frontend (preview –Ω–∞ main.logsfucker.pages.dev)

### –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

–ù—É–∂–µ–Ω **–æ–¥–∏–Ω –ø—Ä–æ–µ–∫—Ç** –¥–ª—è –æ–±–æ–∏—Ö:
- Frontend: —Å—Ç–∞—Ç–∏–∫–∞ –∏–∑ `frontend/dist/`
- Backend: Functions –∏–∑ `backend/functions/`

### –ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å:

#### –®–∞–≥ 1: –£–¥–∞–ª–∏—Ç–µ —Ç–µ–∫—É—â–∏–π frontend –ø—Ä–æ–µ–∫—Ç

–ò–ª–∏ –ø–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ –µ–≥–æ –µ—Å–ª–∏ –Ω—É–∂–µ–Ω –¥–ª—è —Ç–µ—Å—Ç–æ–≤.

#### –®–∞–≥ 2: –û–±–Ω–æ–≤–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç `logsfucker`

–í –ø—Ä–æ–µ–∫—Ç–µ `logsfucker` (–≥–¥–µ —Å–µ–π—á–∞—Å backend):

**Settings ‚Üí Builds & deployments:**

**Build command:**
```bash
cd frontend && npm install && npm run build
```

**Build output directory:**
```
frontend/dist
```

**Root directory:**
–û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º –∏–ª–∏ `/`

#### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –µ—Å—Ç—å:

```
logsfucker/
‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îî‚îÄ‚îÄ functions/
‚îÇ       ‚îî‚îÄ‚îÄ api/
‚îÇ           ‚îú‚îÄ‚îÄ logs.ts
‚îÇ           ‚îî‚îÄ‚îÄ stats.ts
‚îú‚îÄ‚îÄ frontend/
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îî‚îÄ‚îÄ dist/ (—Å–æ–∑–¥–∞–µ—Ç—Å—è –ø—Ä–∏ —Å–±–æ—Ä–∫–µ)
‚îú‚îÄ‚îÄ _routes.json
‚îî‚îÄ‚îÄ wrangler.toml
```

#### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ _routes.json

–í –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ñ–∞–π–ª `_routes.json`:

```json
{
  "version": 1,
  "include": ["/*"],
  "exclude": []
}
```

–≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç Functions —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ `/api/*`, –∞ —Å—Ç–∞—Ç–∏–∫–∞ –Ω–∞ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –ø—É—Ç—è—Ö.

#### –®–∞–≥ 5: Redeploy

Push –≤ main –≤–µ—Ç–∫—É ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π.

–¢–µ–ø–µ—Ä—å –≤—Å—ë –±—É–¥–µ—Ç –Ω–∞ –æ–¥–Ω–æ–º –¥–æ–º–µ–Ω–µ:
- Frontend: `https://logsfucker.pages.dev/`
- API: `https://logsfucker.pages.dev/api/*`

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### –ü–æ—Å–ª–µ –†–µ—à–µ–Ω–∏—è 1 (Environment Variables):

```bash
# –û—Ç–∫—Ä–æ–π—Ç–µ DevTools ‚Üí Console –Ω–∞ https://main.logsfucker.pages.dev/
# –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∫:
https://logsfucker.pages.dev/api/stats
https://logsfucker.pages.dev/api/logs
```

### –ü–æ—Å–ª–µ –†–µ—à–µ–Ω–∏—è 2 (–ï–¥–∏–Ω—ã–π –ø—Ä–æ–µ–∫—Ç):

```bash
# –í—Å—ë –Ω–∞ –æ–¥–Ω–æ–º –¥–æ–º–µ–Ω–µ:
https://logsfucker.pages.dev/          # Frontend
https://logsfucker.pages.dev/api/stats # API
https://logsfucker.pages.dev/api/logs  # API
```

---

## üêõ –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### "CORS error" –≤—Å—ë —Ä–∞–≤–Ω–æ –µ—Å—Ç—å

**–ü—Ä–∏—á–∏–Ω–∞:** Backend –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è CORS.

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
curl -I https://logsfucker.pages.dev/api/logs
```

–î–æ–ª–∂–µ–Ω –±—ã—Ç—å header:
```
Access-Control-Allow-Origin: *
```

–ï—Å–ª–∏ –Ω–µ—Ç - backend –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å (–Ω–æ –≤ –∫–æ–¥–µ —É–∂–µ –≤—Å—ë –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ).

### "404 Not Found" –Ω–∞ /api/*

**–ü—Ä–∏—á–∏–Ω–∞:** Functions –Ω–µ –¥–µ–ø–ª–æ—è—Ç—Å—è.

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –ø–∞–ø–∫–∞ `backend/functions/` –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
2. –í Cloudflare Pages ‚Üí Settings ‚Üí Functions ‚Üí –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–∫–ª—é—á–µ–Ω—ã

### Preview –¥–µ–ø–ª–æ–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —Å—Ç–∞—Ä—É—é –≤–µ—Ä—Å–∏—é

**–ü—Ä–∏—á–∏–Ω–∞:** –ö—ç—à –±—Ä–∞—É–∑–µ—Ä–∞ –∏–ª–∏ Cloudflare.

**–†–µ—à–µ–Ω–∏–µ:**
- Hard refresh: Ctrl+Shift+R (Windows) –∏–ª–∏ Cmd+Shift+R (Mac)
- –û—Ç–∫—Ä–æ–π—Ç–µ –≤ —Ä–µ–∂–∏–º–µ –∏–Ω–∫–æ–≥–Ω–∏—Ç–æ

---

## üìã –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –†–µ—à–µ–Ω–∏–µ 2 (–µ–¥–∏–Ω—ã–π –ø—Ä–æ–µ–∫—Ç)** - —ç—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –¥–ª—è full-stack –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –Ω–∞ Cloudflare Pages:
- ‚úÖ –ü—Ä–æ—â–µ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å
- ‚úÖ –ù–µ—Ç –ø—Ä–æ–±–ª–µ–º —Å CORS
- ‚úÖ –ï–¥–∏–Ω—ã–π –¥–æ–º–µ–Ω
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ preview –¥–µ–ø–ª–æ–∏ –¥–ª—è –≤—Å–µ–≥–æ —Å—Ç–µ–∫–∞

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

- [Frontend DEPLOYMENT.md](./DEPLOYMENT.md) - –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –¥–µ–ø–ª–æ—é
- [DEPLOY_GUIDE.md](../DEPLOY_GUIDE.md) - –≥–∞–π–¥ –ø–æ –¥–µ–ø–ª–æ—é full-stack
- [Cloudflare Pages Docs](https://developers.cloudflare.com/pages/)

---

Made with üíú and ‚ö°

